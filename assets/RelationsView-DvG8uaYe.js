import{_ as H}from"./BackToTop-Sbza1xbC.js";import{D as P}from"./DemoComment-Cg3ETW9T.js";import{d as F,l as b,r as _,o as j,b as q,c as o,h as I,f as n,F as u,i as h,j as w,n as d,t as m,q as G,e as i,_ as O}from"./index-D5RIeEsQ.js";const U=[{groupName:"Ex-Lilith",members:[{id:"hazuki",name:"丰川羽月",avatar:"images/avatar/hazuki.png"},{id:"riko",name:"八幡莉子",avatar:"images/avatar/riko.png"},{id:"ameha",name:"若叶天叶",avatar:"images/avatar/ameha.png"},{id:"wakaho",name:"若叶若穗",avatar:"images/avatar/wakaho.png"}]},{groupName:"Go Raiiii",members:[{id:"mirei",name:"椎名美铃",avatar:"images/avatar/mirei.png"},{id:"shizuku",name:"高松雫",avatar:"images/avatar/shizuku.png"},{id:"anna",name:"长崎杏奈",avatar:"images/avatar/anna.png"},{id:"muna",name:"若叶梦那",avatar:"images/avatar/muna.png"}]},{groupName:"Other",members:[{id:"sora",name:"千早空",avatar:"images/avatar/sora.png"}]}],Y={hazuki:{riko:`莉子同学(riko san)
莉子(riko)`,ameha:`天叶
(ameha)`,wakaho:`若穗
(wakaho)`,mirei:`小美铃
(mirei chan)`,shizuku:`小雫
(shizuku chan)`,anna:`小杏奈
(anna chan)`,muna:`小梦那
(muna chan)`,sora:`小空
(sora chan)`},riko:{hazuki:`丰川同学/羽月同学
(togawa san/hazuki san)`,ameha:`天叶
(ameha)`,wakaho:`若穗
(wakaho)`,mirei:`喂/美铃
(mirei)`,shizuku:`雫雫
(ルル ruru)`,anna:`小安
(ann chan)`,muna:`若叶同学
(wakaba san)`,sora:`小空
(sora chan)`},ameha:{hazuki:`小羽月
(hazuki chan)`,riko:`莉子/小栗子
(riko/koriko)`,wakaho:`若
(waka)`,mirei:`小美铃
(mirei chan)`,shizuku:`雫雫
(ルル ruru chan)`,anna:`小杏奈
(anna chan)`,muna:`小梦那
(muna chan)`,sora:`小空
(sora chan)`},wakaho:{hazuki:`月
(zuki)`,riko:`莉子
(riko)`,ameha:`天
(ame)`,mirei:`美铃铃
(mirin)`,shizuku:`雫雫
(ルル ruru)`,anna:`杏奈
(anna)`,muna:`梦那
(muna)`,sora:`小空
(sora chan)`},shizuku:{hazuki:`小月
(zuki chan)`,riko:`姐姐/莉子
(neesan/riko)`,ameha:`小天
(ame chan)`,wakaho:`小若
(waka chan)`,mirei:`美铃铃
(mirin chan)`,anna:`小安
(ann chan)`,muna:`小猫
(nyanko chan)`,sora:`小空
(sora chan)`},mirei:{hazuki:`羽月姐姐
(hazuki san)`,riko:`栗子/姐姐
(koriko/nee)`,ameha:`天叶
(ameha chan)`,wakaho:`小若穗
(wakaho chan)`,shizuku:`雫雫
(ルル ruru)`,anna:`小安
(ann)`,muna:`梦那
(muna)`,sora:`小空
(sora chan)`},anna:{hazuki:`羽月姐姐
(hazuki san)`,riko:`姐姐/莉子姐姐
(oneesan/riko san)`,ameha:`天叶
(ameha chan)`,wakaho:`小若穗
(wakaho chan)`,shizuku:`雫雫
(ルル ruru chan)`,mirei:`美铃
(mirin)`,muna:`小梦那
(muna chan)`,sora:`小空
(sora chan)`},muna:{hazuki:`羽月姐姐
(hazuki san)`,riko:`姐姐/莉子姐姐
(oneesan/riko san)`,ameha:`天姐
(ame nee)`,wakaho:`若姐
(waka nee)`,shizuku:`小雫
(shizuku chan)`,mirei:`美子
(mi ko)`,anna:`杏子
(ann ko)`,sora:`小空
(sora chan)`},sora:{hazuki:`姐姐/羽月姐姐
(oneesan/hazuki san)`,riko:`姐姐/莉子姐姐
(oneesan/riko san)`,ameha:`姐姐/天叶姐姐
(oneesan/ameha san)`,wakaho:`姐姐/若穗姐姐
(oneesan/wakaho san)`,shizuku:`雫雫
(ルル ruru chan)`,mirei:`姐姐/美铃姐姐
(oneesan/mirei san)`,anna:`姐姐
(neesan)`,muna:`姐姐/梦那姐姐
(oneesan/muna san)`}},W=[{child:[{id:"hazuki",name:"丰川羽月",avatar:"images/avatar/hazuki.png"}],mother:[{name:"丰川祥子",avatar:"images/avatar/sakiko.png"},{name:"三角初华",avatar:"images/avatar/uika.png"}],type:"birth"},{child:[{id:"riko",name:"八幡莉子",avatar:"images/avatar/riko.png"},{id:"mirei",name:"椎名美铃",avatar:"images/avatar/mirei.png"}],mother:[{name:"八幡海铃",avatar:"images/avatar/umiri.png"},{name:"椎名立希",avatar:"images/avatar/taki.png"}],type:"birth"},{child:[{id:"ameha",name:"若叶天叶",avatar:"images/avatar/ameha.png"},{id:"wakaho",name:"若叶若穗",avatar:"images/avatar/wakaho.png"},{id:"muna",name:"若叶梦那",avatar:"images/avatar/muna.png"}],mother:[{name:"祐天寺若麦",avatar:"images/avatar/nyamu.png"},{name:"若叶睦",avatar:"images/avatar/mutsumi.png"}],type:"birth"},{child:[{id:"anna",name:"长崎杏奈",avatar:"images/avatar/anna.png"},{id:"sora",name:"千早空",avatar:"images/avatar/sora.png"}],mother:[{name:"长崎素世",avatar:"images/avatar/soyo.png"},{name:"千早爱音",avatar:"images/avatar/anon.png"}],type:"birth"},{child:{id:"shizuku",name:"高松雫",avatar:"images/avatar/shizuku.png"},mother:[{name:"高松灯",avatar:"images/avatar/tomori.png"},{name:"要乐奈",avatar:"images/avatar/rana.png"}],type:"adopt"}],y={characters:U,callTable:Y,familyTree:W},J={class:"relations-view"},K={class:"sidebar"},Q={class:"nav-list"},X=["onClick"],Z={class:"label"},aa={class:"page-container"},na={id:"section-table",class:"section-block"},ea={class:"table-scroll-wrapper"},sa={class:"call-table"},ta={class:"header-avator"},oa=["src"],ia={class:"header-char"},ra={class:"th-content"},la={class:"td-content"},ca=["onMouseenter"],ua={key:0,class:"call-content"},ha={class:"romaji"},ma={key:1,class:"dash"},da={id:"section-network",class:"section-block"},va={class:"network-container"},ka={class:"circle-layout"},ga={class:"lines-layer",viewBox:"0 0 500 500"},pa=["x1","y1","x2","y2"],_a=["onMouseenter"],wa={class:"node-circle"},ya={class:"node-text"},za={id:"section-family",class:"section-block"},fa={class:"genealogy-grid"},ba={class:"parents-row"},xa=["src"],Ma={class:"name"},Na={class:"child-row"},Ca=["src"],Ea={class:"name"},Ia=F({__name:"RelationsView",setup(La){const L="/band-next-gen/",z=s=>{if(!s)return"";const e=s.startsWith("/")?s.slice(1):s;return`${L}${e}`},c=b(()=>y.characters.flatMap(s=>s.members));y.characters.map(s=>s.groupName);const T=y.callTable,v=_(null),k=_(null),$=(s,e)=>{v.value=s,k.value=e},S=()=>{v.value=null,k.value=null},x=(s,e)=>T[s]?.[e]||"?",f=_("section-table"),M=[{id:"section-table",label:"称呼表"},{id:"section-network",label:"关系网"},{id:"section-family",label:"亲缘谱"}],B=s=>{f.value=s,document.getElementById(s)?.scrollIntoView({behavior:"smooth",block:"start"})},N=()=>{const e=window.scrollY;for(const a of M){const t=document.getElementById(a.id);if(t){const{offsetTop:r,offsetHeight:p}=t;e>=r-300&&e<r+p-300&&(f.value=a.id)}}};j(()=>{window.addEventListener("scroll",N)}),q(()=>{window.removeEventListener("scroll",N)});const l=_(null),C=b(()=>{const s=[],e=c.value.map(a=>a.id);return e.forEach((a,t)=>{t<e.length-1&&s.push({source:a,target:e[t+1]}),t<e.length-2&&s.push({source:a,target:e[t+2]}),t===e.length-1&&s.push({source:a,target:e[0]})}),s}),g=s=>{const e=c.value.findIndex(A=>A.id===s);if(e===-1)return{x:250,y:250};const a=c.value.length,t=180,p=(360/a*e-90)*Math.PI/180;return{x:250+Math.cos(p)*t,y:250+Math.sin(p)*t}},V=(s,e)=>{const a=c.value[s];if(!a)return{};const t=g(a.id);return{left:`${t.x}px`,top:`${t.y}px`}},D=s=>{if(!l.value)return!0;const e=s===l.value,a=C.value.some(t=>t.source===l.value&&t.target===s||t.target===l.value&&t.source===s);return e||a},E=s=>l.value?s.source===l.value||s.target===l.value:!0,R=b(()=>y.familyTree.map(s=>({...s,child:Array.isArray(s.child)?s.child:[s.child]})));return(s,e)=>(i(),o("div",J,[I(H),n("nav",K,[e[2]||(e[2]=n("div",{class:"nav-line"},null,-1)),n("ul",Q,[(i(),o(u,null,h(M,(a,t)=>n("li",{key:t,class:d(["nav-item",{active:f.value===a.id}]),onClick:r=>B(a.id)},[e[1]||(e[1]=n("span",{class:"dot"},null,-1)),n("span",Z,m(a.label),1)],10,X)),64))])]),n("div",aa,[I(P),n("section",na,[e[6]||(e[6]=n("h2",{class:"section-title"},"称呼表",-1)),n("div",ea,[n("table",sa,[n("thead",null,[n("tr",ta,[e[3]||(e[3]=n("th",{class:"fixed-col"},null,-1)),(i(!0),o(u,null,h(c.value,a=>(i(),o("th",{key:a.id},[n("img",{src:z(a.avatar),class:"avatar-square"},null,8,oa)]))),128))]),e[5]||(e[5]=n("tr",{class:"header-group"},[n("th",{class:"fixed-col"},[n("span",{class:"group-label"},"所属组合")]),n("th",{colspan:"4",class:"group-name lilith"},"Ex-Lilith"),n("th",{colspan:"4",class:"group-name gorai"},"Go Raiiii"),n("th",{colspan:"1",class:"group-name other"},"Other")],-1)),n("tr",ia,[e[4]||(e[4]=n("th",{class:"corner-header fixed-col"},[n("span",{class:"corner-comment"},"称呼→被称呼")],-1)),(i(!0),o(u,null,h(c.value,a=>(i(),o("th",{key:a.id,class:d({"highlight-col":k.value===a.id})},[n("div",ra,m(a.name),1)],2))),128))])]),n("tbody",null,[(i(!0),o(u,null,h(c.value,a=>(i(),o("tr",{key:a.id},[n("td",{class:d(["row-header fixed-col",{"highlight-row":v.value===a.id}])},[n("div",la,m(a.name),1)],2),(i(!0),o(u,null,h(c.value,t=>(i(),o("td",{key:t.id,class:d(["cell",{active:v.value===a.id&&k.value===t.id,"cross-highlight":v.value===a.id||k.value===t.id,self:a.id===t.id}]),onMouseenter:r=>$(a.id,t.id),onMouseleave:S},[a.id!==t.id?(i(),o("div",ua,[w(m(x(a.id,t.id).split(`
`)[0])+" ",1),n("span",ha,m(x(a.id,t.id).split(`
`)[1]||""),1)])):(i(),o("span",ma,"—"))],42,ca))),128))]))),128))])])])]),n("section",da,[e[8]||(e[8]=n("h2",{class:"section-title"},"关系网",-1)),n("div",va,[n("div",ka,[(i(),o("svg",ga,[(i(!0),o(u,null,h(C.value,(a,t)=>(i(),o("line",{key:t,x1:g(a.source).x,y1:g(a.source).y,x2:g(a.target).x,y2:g(a.target).y,class:d(["network-line",{dimmed:l.value&&!E(a),active:E(a)}])},null,10,pa))),128))])),(i(!0),o(u,null,h(c.value,(a,t)=>(i(),o("div",{key:a.id,class:d(["node-wrapper",{dimmed:l.value&&!D(a.id),active:l.value===a.id}]),style:G(V(t,c.value.length)),onMouseenter:r=>l.value=a.id,onMouseleave:e[0]||(e[0]=r=>l.value=null)},[n("div",wa,[n("span",ya,m(a.name.slice(-2)),1)])],46,_a))),128)),e[7]||(e[7]=n("div",{class:"center-text"},[w(" 这里用贴图吧"),n("br"),w("线条太繁杂实在做不出来"),n("br"),w("这个网站已经做了快40个小时了 ")],-1))])])]),n("section",za,[e[10]||(e[10]=n("h2",{class:"section-title"},"亲缘谱",-1)),n("div",fa,[(i(!0),o(u,null,h(R.value,(a,t)=>(i(),o("div",{key:t,class:"family-unit"},[n("div",ba,[(i(!0),o(u,null,h(a.mother,r=>(i(),o("div",{key:r.name,class:"parent-node"},[n("img",{src:z(r.avatar),class:"avatar-round"},null,8,xa),n("span",Ma,m(r.name),1)]))),128))]),n("div",{class:d(["connector",{"dashed-line":a.type==="adopt"}])},[...e[9]||(e[9]=[n("div",{class:"connector-top"},null,-1),n("div",{class:"connector-bottom"},null,-1)])],2),n("div",Na,[(i(!0),o(u,null,h(a.child,r=>(i(),o("div",{key:r.id,class:"child-node"},[n("img",{src:z(r.avatar),class:"avatar-round"},null,8,Ca),n("span",Ea,m(r.name),1)]))),128))])]))),128))])])])]))}}),Ba=O(Ia,[["__scopeId","data-v-117e6698"]]);export{Ba as default};
